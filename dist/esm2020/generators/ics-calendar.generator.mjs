import { BaseCalendarGenerator } from './base-calendar.generator';
export class IcsCalendarGenerator extends BaseCalendarGenerator {
    constructor(event) {
        super(event);
        this.event = event;
    }
    get href() {
        return encodeURI('data:text/calendar;charset=utf8,' + [
            'BEGIN:VCALENDAR',
            'PRODID:-//Destination Search//ical4j 1.0//EN',
            'VERSION:2.0',
            'CALSCALE:GREGORIAN',
            'X-MS-OLK-FORCEINSPECTOROPEN:true',
            'METHOD:PUBLISH',
            'BEGIN:VEVENT',
            `URL:${this.event.url || ''}`,
            `DTSTART:${(this.startTime || '')}`,
            `DTEND:${(this.endTime || '')}`,
            `SUMMARY:${(this.event.title || '')}`,
            `DESCRIPTION:${(this.event.description || '')}`,
            `LOCATION:${(this.event.address || '')}`,
            'SEQUENCE:0',
            `DTSTAMP:${this.dtStamp}`,
            `UID:${this.uid}`,
            'END:VEVENT',
            'END:VCALENDAR'
        ].join('\n'));
    }
    get dtStamp() {
        return this.formatTime(new Date());
    }
}
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaWNzLWNhbGVuZGFyLmdlbmVyYXRvci5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uL3NyYy9nZW5lcmF0b3JzL2ljcy1jYWxlbmRhci5nZW5lcmF0b3IudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQ0EsT0FBTyxFQUFFLHFCQUFxQixFQUFFLE1BQU0sMkJBQTJCLENBQUM7QUFFbEUsTUFBTSxPQUFPLG9CQUFxQixTQUFRLHFCQUFxQjtJQUUzRCxZQUFzQixLQUFxQjtRQUN2QyxLQUFLLENBQUMsS0FBSyxDQUFDLENBQUM7UUFESyxVQUFLLEdBQUwsS0FBSyxDQUFnQjtJQUUzQyxDQUFDO0lBRUQsSUFBVyxJQUFJO1FBQ1gsT0FBTyxTQUFTLENBQ1osa0NBQWtDLEdBQUc7WUFDckMsaUJBQWlCO1lBQ2pCLDhDQUE4QztZQUM5QyxhQUFhO1lBQ2Isb0JBQW9CO1lBQ3BCLGtDQUFrQztZQUNsQyxnQkFBZ0I7WUFDaEIsY0FBYztZQUNkLE9BQU8sSUFBSSxDQUFDLEtBQUssQ0FBQyxHQUFHLElBQUksRUFBRSxFQUFFO1lBQzdCLFdBQVcsQ0FBQyxJQUFJLENBQUMsU0FBUyxJQUFJLEVBQUUsQ0FBQyxFQUFFO1lBQ25DLFNBQVMsQ0FBQyxJQUFJLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxFQUFFO1lBQy9CLFdBQVcsQ0FBQyxJQUFJLENBQUMsS0FBSyxDQUFDLEtBQUssSUFBSSxFQUFFLENBQUMsRUFBRTtZQUNyQyxlQUFlLENBQUMsSUFBSSxDQUFDLEtBQUssQ0FBQyxXQUFXLElBQUksRUFBRSxDQUFDLEVBQUU7WUFDL0MsWUFBWSxDQUFDLElBQUksQ0FBQyxLQUFLLENBQUMsT0FBTyxJQUFJLEVBQUUsQ0FBQyxFQUFFO1lBQ3hDLFlBQVk7WUFDWixXQUFXLElBQUksQ0FBQyxPQUFPLEVBQUU7WUFDekIsT0FBTyxJQUFJLENBQUMsR0FBRyxFQUFFO1lBQ2pCLFlBQVk7WUFDWixlQUFlO1NBQUMsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLENBQUMsQ0FBQztJQUNyQyxDQUFDO0lBRUQsSUFBWSxPQUFPO1FBQ2YsT0FBTyxJQUFJLENBQUMsVUFBVSxDQUFDLElBQUksSUFBSSxFQUFFLENBQUMsQ0FBQztJQUN2QyxDQUFDO0NBQ0oiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBJQ2FsZW5kYXJFdmVudCB9IGZyb20gJy4uL21vZGVsL2NhbGVuZGFyLWV2ZW50Lm1vZGVsJztcclxuaW1wb3J0IHsgQmFzZUNhbGVuZGFyR2VuZXJhdG9yIH0gZnJvbSAnLi9iYXNlLWNhbGVuZGFyLmdlbmVyYXRvcic7XHJcblxyXG5leHBvcnQgY2xhc3MgSWNzQ2FsZW5kYXJHZW5lcmF0b3IgZXh0ZW5kcyBCYXNlQ2FsZW5kYXJHZW5lcmF0b3Ige1xyXG5cclxuICAgIGNvbnN0cnVjdG9yKHByb3RlY3RlZCBldmVudDogSUNhbGVuZGFyRXZlbnQpIHtcclxuICAgICAgICBzdXBlcihldmVudCk7XHJcbiAgICB9XHJcblxyXG4gICAgcHVibGljIGdldCBocmVmKCk6IHN0cmluZyB7XHJcbiAgICAgICAgcmV0dXJuIGVuY29kZVVSSShcclxuICAgICAgICAgICAgJ2RhdGE6dGV4dC9jYWxlbmRhcjtjaGFyc2V0PXV0ZjgsJyArIFtcclxuICAgICAgICAgICAgJ0JFR0lOOlZDQUxFTkRBUicsXHJcbiAgICAgICAgICAgICdQUk9ESUQ6LS8vRGVzdGluYXRpb24gU2VhcmNoLy9pY2FsNGogMS4wLy9FTicsXHJcbiAgICAgICAgICAgICdWRVJTSU9OOjIuMCcsXHJcbiAgICAgICAgICAgICdDQUxTQ0FMRTpHUkVHT1JJQU4nLFxyXG4gICAgICAgICAgICAnWC1NUy1PTEstRk9SQ0VJTlNQRUNUT1JPUEVOOnRydWUnLFxyXG4gICAgICAgICAgICAnTUVUSE9EOlBVQkxJU0gnLFxyXG4gICAgICAgICAgICAnQkVHSU46VkVWRU5UJyxcclxuICAgICAgICAgICAgYFVSTDoke3RoaXMuZXZlbnQudXJsIHx8ICcnfWAsXHJcbiAgICAgICAgICAgIGBEVFNUQVJUOiR7KHRoaXMuc3RhcnRUaW1lIHx8ICcnKX1gLFxyXG4gICAgICAgICAgICBgRFRFTkQ6JHsodGhpcy5lbmRUaW1lIHx8ICcnKX1gLFxyXG4gICAgICAgICAgICBgU1VNTUFSWTokeyh0aGlzLmV2ZW50LnRpdGxlIHx8ICcnKX1gLFxyXG4gICAgICAgICAgICBgREVTQ1JJUFRJT046JHsodGhpcy5ldmVudC5kZXNjcmlwdGlvbiB8fCAnJyl9YCxcclxuICAgICAgICAgICAgYExPQ0FUSU9OOiR7KHRoaXMuZXZlbnQuYWRkcmVzcyB8fCAnJyl9YCxcclxuICAgICAgICAgICAgJ1NFUVVFTkNFOjAnLFxyXG4gICAgICAgICAgICBgRFRTVEFNUDoke3RoaXMuZHRTdGFtcH1gLFxyXG4gICAgICAgICAgICBgVUlEOiR7dGhpcy51aWR9YCxcclxuICAgICAgICAgICAgJ0VORDpWRVZFTlQnLFxyXG4gICAgICAgICAgICAnRU5EOlZDQUxFTkRBUiddLmpvaW4oJ1xcbicpKTtcclxuICAgIH1cclxuXHJcbiAgICBwcml2YXRlIGdldCBkdFN0YW1wKCkge1xyXG4gICAgICAgIHJldHVybiB0aGlzLmZvcm1hdFRpbWUobmV3IERhdGUoKSk7XHJcbiAgICB9XHJcbn1cclxuIl19